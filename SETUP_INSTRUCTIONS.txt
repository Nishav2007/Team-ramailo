================================================================
   MELAMCHI WATER ALERT SYSTEM - SETUP INSTRUCTIONS
   Pure PHP Edition with Live Real-Time Updates
================================================================

STEP 1: IMPORT DATABASE
------------------------
1. Start XAMPP (Apache + MySQL must be running)
2. Open phpMyAdmin: http://localhost/phpmyadmin
3. Click "Import" tab
4. Choose file: setup_database.sql
5. Click "Go"
6. Wait for success message

You should see:
- Database: melamchi_alert created
- 4 tables created
- 42 locations inserted
- 4 sample users inserted
- 1 admin user inserted

================================================================

STEP 2: ACCESS THE WEBSITE
---------------------------
Homepage: http://localhost/GoodDream/index.php

You should see:
- Navigation bar
- "Never Miss Melamchi Water Again" title
- Features section
- All links working

================================================================

STEP 3: TEST ADMIN PANEL
-------------------------
1. Go to: http://localhost/GoodDream/admin-login.php

2. Login with:
   Username: admin
   Password: admin123

3. You will see:
   - Statistics (users, locations, events)
   - Water Flow Control section
   - All 42 locations grouped by district
   - Each location has status and toggle button

4. Test Toggle:
   - Find "Chabahil" (should show RED: No Water)
   - Click "Turn ON" button
   - Confirm popup
   - Page reloads
   - Chabahil now shows GREEN: Water Flowing
   - Success message appears

================================================================

STEP 4: TEST USER DASHBOARD
----------------------------
1. Open new browser tab/window

2. Go to: http://localhost/GoodDream/login.php

3. Login with test user:
   Email: ramesh@example.com
   Password: test123
   (This user is in Chabahil)

4. You will see dashboard with:
   - Welcome message
   - LIVE badge (pulsing green dot)
   - Big status card

5. If Chabahil water is ON:
   - GREEN PULSING CARD
   - "ðŸ’§ Water Flowing Now!"
   - "Water is currently flowing in Chabahil"
   - Started time

6. If Chabahil water is OFF:
   - Shows past water event
   - Or "No Water" if no recent events

7. Dashboard auto-refreshes:
   - Every 30 seconds
   - Watch browser tab title: (30s), (29s), (28s)...
   - No need to click refresh!

================================================================

STEP 5: TEST LIVE UPDATES
--------------------------
Keep BOTH windows open side-by-side:

Left: Admin Panel (admin-panel.php)
Right: User Dashboard (dashboard.php - logged in as Ramesh)

TEST 1: Turn Water ON
   1. Admin: Toggle Chabahil ON
   2. Wait 30 seconds
   3. User dashboard auto-refreshes
   4. User sees: GREEN PULSING "Water Flowing Now!"

TEST 2: Turn Water OFF
   1. Admin: Toggle Chabahil OFF
   2. Wait 30 seconds
   3. User dashboard auto-refreshes
   4. User sees: "Water Available" (past event)

================================================================

STEP 6: TEST WITH DIFFERENT LOCATIONS
--------------------------------------
Login as different test users:

User: sita@example.com (Chabahil)
   - Should see same as Ramesh when Chabahil has water

User: hari@example.com (Koteshwor)
   - Should NOT see water when only Chabahil has it
   - Only sees water when Koteshwor is toggled ON

User: maya@example.com (Thamel)
   - Independent from Chabahil and Koteshwor
   - Only sees water when Thamel is toggled ON

================================================================

ALL TEST CREDENTIALS
--------------------
ADMIN:
   URL: http://localhost/GoodDream/admin-login.php
   Username: admin
   Password: admin123

TEST USERS (all password: test123):
   ramesh@example.com - Chabahil
   sita@example.com - Chabahil
   hari@example.com - Koteshwor
   maya@example.com - Thamel

================================================================

HOW THE LIVE SYSTEM WORKS
--------------------------
1. Admin toggles water ON in location X
   â†’ Database: water_status = 'flowing'
   â†’ Creates water_events record
   â†’ Admin panel shows green

2. User in location X has dashboard open
   â†’ Page auto-refreshes every 30 seconds
   â†’ Fetches water_status from database
   â†’ Shows green pulsing "Water Flowing Now!"

3. User in location Y (different location)
   â†’ Page auto-refreshes
   â†’ Still shows "No Water" (not affected)

4. Admin toggles water OFF in location X
   â†’ Database: water_status = 'not_flowing'
   â†’ No new event created

5. User in location X
   â†’ Next auto-refresh (30s)
   â†’ Shows "Water Available" (past event)

================================================================

FILES CREATED
-------------
âœ… index.php - Homepage
âœ… register.php - User registration
âœ… login.php - User login
âœ… dashboard.php - User dashboard (LIVE)
âœ… history.php - Water history (LIVE)
âœ… admin-login.php - Admin login (hardcoded)
âœ… admin-panel.php - Admin control panel (LIVE)
âœ… logout.php - Logout handler
âœ… config.php - Configuration
âœ… style.css - Complete stylesheet
âœ… setup_database.sql - Database setup

TOTAL: 11 files (simple and clean!)

================================================================

KEY FEATURES
------------
âœ… Live real-time water flow status
âœ… Auto-refresh (30s dashboard, 60s history)
âœ… Pulsing animations when water flowing
âœ… No emails sent (disabled for testing)
âœ… Admin toggles update all users instantly
âœ… Hardcoded admin login (no database check)
âœ… Beautiful water-themed design
âœ… Fully responsive
âœ… Secure (password hashing, SQL protection)
âœ… History tracking automatic

================================================================

TROUBLESHOOTING
---------------
Q: "Database connection failed"
A: Start MySQL in XAMPP, import setup_database.sql

Q: "Admin login not working"
A: Must be exactly: admin / admin123 (case-sensitive)

Q: "User dashboard not updating"
A: Wait 30 seconds for auto-refresh, or click "Refresh Now"

Q: "No locations showing"
A: Import setup_database.sql - it loads all 42 locations

================================================================

DONE! Your system is ready to use.
Test with the instructions above.

Built with ðŸ’§ for Kathmandu community!
================================================================

